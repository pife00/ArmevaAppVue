(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["egresos"],{"5b6a":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("div",{staticClass:"columns is-mobile"},[e("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[e("div",{staticClass:" column has-text-centered "},[e("button",{staticClass:"button is-primary",staticStyle:{"border-color":"gray"},on:{click:function(a){return t.showModalUniversal()}}},[t._v("Añadir")])]),e("Table",{attrs:{usuarios:t.DataBase}}),e("Modal_Universal",{attrs:{Modo:t.Modo,user:t.Ingresos}})],1)])])},s=[],i=e("5530"),r=e("2f62"),n=e("4360"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",{on:{submit:function(a){return a.preventDefault(),t.sendQuerry()}}},[e("div",{staticClass:"field has-addons"},[e("div",{staticClass:"control"},[e("div",{staticClass:"select is-dark"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Productos,expression:"Datos.Productos"}],staticClass:"input",attrs:{id:"querryProductos",name:"querryProductos"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Datos,"Productos",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Nombre"}},[t._v("Nombre")]),e("option",{attrs:{value:"Productos"}},[t._v("Producto")]),e("option",{attrs:{value:"Precio"}},[t._v("Precio")]),e("option",{attrs:{value:"Fecha"}},[t._v("Fecha")])])])]),e("div",{staticClass:"control",staticStyle:{width:"70%"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Querry,expression:"Datos.Querry"}],staticClass:"input is-dark",attrs:{name:"querry",type:"text"},domProps:{value:t.Datos.Querry},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Querry",a.target.value)}}})]),t._m(0)]),e("div",{staticClass:"is-centered"},[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.optionCheck,expression:"optionCheck"}],attrs:{type:"checkbox",value:"Ingresos"},domProps:{checked:Array.isArray(t.optionCheck)?t._i(t.optionCheck,"Ingresos")>-1:t.optionCheck},on:{change:function(a){var e=t.optionCheck,o=a.target,s=!!o.checked;if(Array.isArray(e)){var i="Ingresos",r=t._i(e,i);o.checked?r<0&&(t.optionCheck=e.concat([i])):r>-1&&(t.optionCheck=e.slice(0,r).concat(e.slice(r+1)))}else t.optionCheck=s}}}),t._v(" Ingresos ")]),e("label",{staticClass:"checkbox",staticStyle:{"padding-left":"10px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.optionCheck,expression:"optionCheck"}],attrs:{type:"checkbox",value:"Egresos"},domProps:{checked:Array.isArray(t.optionCheck)?t._i(t.optionCheck,"Egresos")>-1:t.optionCheck},on:{change:function(a){var e=t.optionCheck,o=a.target,s=!!o.checked;if(Array.isArray(e)){var i="Egresos",r=t._i(e,i);o.checked?r<0&&(t.optionCheck=e.concat([i])):r>-1&&(t.optionCheck=e.slice(0,r).concat(e.slice(r+1)))}else t.optionCheck=s}}}),t._v(" Egresos ")]),e("label",{staticClass:"checkbox",staticStyle:{"padding-left":"10px"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.optionCheck,expression:"optionCheck"}],attrs:{type:"checkbox",value:"Deuda"},domProps:{checked:Array.isArray(t.optionCheck)?t._i(t.optionCheck,"Deuda")>-1:t.optionCheck},on:{change:function(a){var e=t.optionCheck,o=a.target,s=!!o.checked;if(Array.isArray(e)){var i="Deuda",r=t._i(e,i);o.checked?r<0&&(t.optionCheck=e.concat([i])):r>-1&&(t.optionCheck=e.slice(0,r).concat(e.slice(r+1)))}else t.optionCheck=s}}}),t._v(" Deudor ")])])]),e("table",{staticClass:"table"},[t._m(1),e("tbody",t._l(t.usuarios,(function(a){return e("tr",{key:a._id},[e("td",[t._v(t._s(a.Nombre))]),e("td",[t._v(t._s(a.Productos))]),e("td",[t._v(t._s(t.formatNumber(a.Precio)))]),e("td",[t._v(t._s(a.Cantidad))]),e("td",[t._v(t._s(t.formatDate(a.Fecha)))]),e("td",[e("a",{staticClass:"button is-white",attrs:{id:"editButton"},on:{click:function(e){return t.showModalUniversal(a._id,a.Nombre,a.Productos,a.Precio,a.Cantidad,a.Categoria,a.Fecha)}}},[t._m(2,!0)])]),e("td",[e("a",{staticClass:"button is-white",on:{click:function(e){return t.showModalDetele(a.Nombre,a.Precio,a._id)}}},[t._m(3,!0)])])])})),0),e("tfoot",[e("tr",[e("th",[t._v("Total")]),e("th"),e("th",[t._v(t._s(t.formatNumber(t.total())))])])])]),e("Modal_Universal",{attrs:{Modo:t.Modo,user:t.DatosEdit}}),e("modal",{attrs:{width:350,height:200,name:"delete"}},[e("div",{staticClass:"columns is-mobile"},[e("div",{staticClass:"column "},[e("div",{staticClass:"has-text-centered",staticStyle:{"margin-top":"30px"}},[e("h1",{staticClass:"title is-4"},[t._v("¿Desea eliminar este archivo?")]),e("p",[t._v("Una vez eliminados no se podran recuperar")]),e("p",[t._v(t._s(t.ModalId))]),e("div",{staticClass:"column"},[e("button",{staticClass:"button is-light",staticStyle:{"margin-right":"5px"},on:{click:function(a){return t.hideModalDelete()}}},[t._v("Cancelar")]),e("button",{staticClass:"button is-danger",on:{click:function(a){return t.deleteData(t.ModalId,t.ModalNombre)}}},[t._v("Eliminar")])])])])])])],1)},l=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"is-dark"},[e("button",{staticClass:"submit button is-primary",staticStyle:{"border-color":"gray"},attrs:{id:"busqueda"}},[e("i",{staticClass:"fas fa-search"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("Nombre")]),e("th",[t._v("Producto")]),e("th",[t._v("Precio")]),e("th",[t._v("Cantidad")]),e("th",[t._v("Fecha")]),e("th",[t._v("Operacion")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-edit"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-trash-alt"})])}],d=(e("4de4"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("modal",{attrs:{width:500,height:510,name:t.Modo}},[e("form",{staticClass:"universal-modal",attrs:{id:"registerForm"},on:{submit:function(a){return a.preventDefault(),t.SendData()}}},[e("h1",{staticClass:"title",staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.Modo))]),e("div",{staticClass:"field"},[e("div",{staticClass:"colunm is-4"},[e("p",{staticClass:"subtitle"},[t._v(t._s(t.Datos._id))]),e("p")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Categoria,expression:"Datos.Categoria"}],staticClass:"input categoria",attrs:{name:"Categoria",type:"text",value:"Ingresos"},domProps:{value:t.Datos.Categoria},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Categoria",a.target.value)}}})]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Nombre")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",attrs:{name:"Nombre",type:"text",placeholder:"Nombre"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}})])]),e("div",{staticClass:"field"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("label",{staticClass:"label"},[t._v("Producto")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Productos,expression:"Datos.Productos"}],staticClass:"input",attrs:{type:"text",list:"Productos"},domProps:{value:t.Datos.Productos},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Productos",a.target.value)}}}),e("datalist",{attrs:{id:"Productos"}},[e("option",{attrs:{value:"Pollo"}},[t._v("Pollo")]),e("option",{attrs:{value:"Gallinita"}},[t._v("Gallinita")]),e("option",{attrs:{value:"Huevo"}},[t._v("Huevo")]),e("option",{attrs:{value:"Pescado"}},[t._v("Pescado")])])])]),e("div",{staticClass:"column is-5"},[e("label",{staticClass:"label"},[t._v("Cantidad")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Cantidad,expression:"Datos.Cantidad"}],staticClass:"input",attrs:{type:"number",min:"1",max:"30"},domProps:{value:t.Datos.Cantidad},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Cantidad",a.target.value)}}})])])]),e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[t._v("Precio")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Precio,expression:"Datos.Precio"}],staticClass:"input",attrs:{name:"Precio",type:"text",placeholder:"Precio"},domProps:{value:t.Datos.Precio},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Precio",a.target.value)}}})])]),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[t._v(t._s(t.Modo))])])])])])}),u=[],h={props:{Modo:String,user:Object},data:function(){return{Datos:[]}},computed:{count:function(){this.Datos=this.user}},watch:{count:function(t){}},methods:{closeModal:function(){document.getElementById(this.Modo).style.display="none"},SendData:function(){var t=this;"Añadir"==this.Modo&&this.axios.post("/getData",{Nombre:this.Datos.Nombre,Productos:this.Datos.Productos,Precio:this.Datos.Precio,Cantidad:this.Datos.Cantidad,Categoria:this.Datos.Categoria}).then((function(a){console.log(a.data),t.$store.commit("loadDataBase"),t.Datos.Nombre="",t.Datos.Productos="",t.Datos.Precio="",t.Datos.Cantidad="",t.Datos.Categoria="",t.$modal.hide("Añadir")})).catch((function(t){})),"Actualizar"==this.Modo&&this.axios.post("/getUpdate",{_id:this.Datos._id,Nombre:this.Datos.Nombre,Productos:this.Datos.Productos,Cantidad:this.Datos.Cantidad,Precio:this.Datos.Precio,Categoria:this.Datos.Categoria,Fecha:this.Datos.Fecha}).then((function(a){t.$store.commit("loadDataBase"),t.Datos._id="",t.Datos.Nombre="",t.Datos.Productos="",t.Datos.Precio="",t.Datos.Cantidad="",t.Datos.Categoria="",t.$modal.hide("Actualizar")})).catch((function(t){}))}}},m=h,v=e("2877"),p=Object(v["a"])(m,d,u,!1,null,null,null),C=p.exports,f={name:"Table",components:{Modal_Universal:C},props:{usuarios:Array},data:function(){return{Datos:{Productos:"Nombre",Querry:""},DatosEdit:{_id:"",Nombre:"",Productos:"",Precio:0,Cantidad:0,Categoria:""},ModalNombre:"",ModalPrecio:0,ModalId:"",optionCheck:[],usuariosReserva:[],Modo:"Actualizar"}},created:function(){},computed:{},watch:{optionCheck:function(t){this.checkSelect(t)},usuarios:function(t){t.length},change:function(t){}},methods:{sendQuerry:function(){var t=this;this.axios.post("http://localhost:3000/getQuerry",{querryProductos:this.Datos.Productos,querry:this.Datos.Querry}).then((function(a){t.$store.querry=a.data,t.usuarios=t.$store.querry})).catch((function(t){}))},total:function(){for(var t=0,a=0;a<this.usuarios.length;a++)t+=this.usuarios[a].Precio;return t},checkSelect:function(t){if(this.usuariosReserva.length<=0&&(this.usuariosReserva=this.usuarios),1==t.length){var a=this.usuarios.filter((function(a){return a.Categoria==t}));this.usuarios=a}else this.usuarios=this.usuariosReserva,this.usuariosReserva=[]},formatDate:function(t){var a={weekday:"long",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:"America/Bogota"};return new Intl.DateTimeFormat("es-Co",a).format(new Date(t))},formatNumber:function(t){var a=0;if("number"==typeof t)return a=Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(t),a},showModalDetele:function(t,a,e){this.ModalNombre=t,this.ModalPrecio=a,this.ModalId=e,this.$modal.show("delete")},hideModalDelete:function(){this.$modal.hide("delete")},deleteData:function(t,a){var e=this;this.axios.post("/getDelete",{id:t,Nombre:a}).then((function(t){e.$store.commit("loadDataBase"),e.hideModalDelete(),console.log(t)})).catch(error)},showModalUniversal:function(t,a,e,o,s,i,r){this.DatosEdit._id=t,this.DatosEdit.Nombre=a,this.DatosEdit.Productos=e,this.DatosEdit.Precio=o,this.DatosEdit.Cantidad=s,this.DatosEdit.Categoria=i,this.DatosEdit.Fecha=r,this.$modal.show(this.Modo)}}},D=f,b=Object(v["a"])(D,c,l,!1,null,null,null),_=b.exports,g={name:"Tablas",components:{Table:_,Modal_Universal:C},data:function(){return{Ingresos:[],Modo:"Añadir"}},created:function(){n["a"].commit("loadDataBase")},computed:Object(i["a"])({},Object(r["b"])(["DataBase"])),watch:{},methods:{showModalUniversal:function(){this.$modal.show(this.Modo)}}},y=g,P=Object(v["a"])(y,o,s,!1,null,null,null);a["default"]=P.exports}}]);
//# sourceMappingURL=egresos.d8532691.js.map