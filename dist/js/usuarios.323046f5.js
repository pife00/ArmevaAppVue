(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["usuarios"],{"00f9":function(t,a,o){"use strict";o.r(a);var i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("section",{staticClass:"section"},[o("div",{staticClass:"container"},[o("div",{staticClass:"column"},[o("Panel_de_Control",{attrs:{usuarios:t.DataBaseUser,registro:t.DataBase}})],1),o("div",{staticClass:"column"},["usuarios"==t.$store.state.ModoTabla?o("Tabla",{attrs:{datos:t.DataBaseUser,configuracion:t.configuracion_usuarios,modo:"Usuarios"}}):t._e(),"registros"==t.$store.state.ModoTabla?o("Tabla",{attrs:{datos:t.DataBase,configuracion:t.configuracion_registros,modo:"Registro"}}):t._e()],1),"nuevo_usuario"==t.$store.state.UsuarioPerfil?o("Usuario_Perfil",{attrs:{modo:"Nuevo Usuario",usuario:t.$store.state.UsuarioElegido}}):t._e(),"editar_usuario"==t.$store.state.UsuarioPerfil?o("Usuario_Perfil",{attrs:{modo:"Editar Usuario",usuario:t.$store.state.UsuarioElegido}}):t._e(),t.$store.state.Registro_Actividad?o("Registro_Actividad"):t._e()],1)])])},s=[],e=o("5530"),r=o("2f62"),n=o("4360"),c=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[t.PaginaTotal>0?o("ul",{staticClass:"pagination-list"},t._l(t.PaginaTotal,(function(a){return o("li",{key:a},[o("a",{key:a,staticClass:"pagination-link",class:{"is-current":t.PaginaCorriente==a},attrs:{href:"#"},on:{click:function(o){return t.PaginaElegida(a)}}},[t._v(t._s(a))])])})),0):t._e()]),t.datos.length>0?o("table",{staticClass:"table is-bordered table is-hoverable is-fullwidth",attrs:{id:t.modo}},[o("thead",[o("tr",[t._l(t.configuracion,(function(a){return o("th",{key:a.clave},[t._v(t._s(a.titulo))])})),o("th",[t._v("Operacion")])],2)]),o("tbody",t._l(t.Paginacion,(function(a){return o("tr",{key:a._id},[t._l(t.configuracion,(function(i){return o("td",{key:i.clave,on:{click:function(o){return t.EditarDatos(a)}}},[t._v(t._s(a[i.clave]))])})),o("td",[o("a",{on:{click:function(o){return t.ModalEliminar(a)}}},[t._m(0,!0)])])],2)})),0),"Usuarios"!=t.modo?o("tfoot",[o("tr",[o("th",[t._v("Total")]),o("th"),o("th",[t._v(t._s(t.MonedaLocal(t.SumaTotal(t.Datos_de_Tabla))))])])]):t._e()]):t._e(),"usuario"==t.$store.state.ModalEliminar?o("Modal_Eliminar",{attrs:{modo:"usuario",datos:t.DatosModalEliminar}}):t._e(),"registro"==t.$store.state.ModalEliminar?o("Modal_Eliminar",{attrs:{modo:"registro",datos:t.DatosModalEliminar}}):t._e(),"tabs"==t.$store.state.ModalEliminar?o("Modal_Eliminar",{attrs:{modo:"tabs",datos:t.DatosModalEliminar}}):t._e()],1)},l=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon is-small has-text-danger"},[o("i",{staticClass:"fas fa-trash-alt"})])}],u=(o("fb6a"),function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"modal is-active"},[o("div",{staticClass:"modal-background"}),o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v("¿Desea eliminar este registro?")]),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.Cerrar}})]),t._m(0),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button is-danger",on:{click:t.Eliminar}},[t._v("Eliminar")]),o("button",{staticClass:"button",on:{click:t.Cerrar}},[t._v("Cancelar")])])])])])}),d=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"has-text-centered"},[o("span",{staticClass:"icon has-text-danger"},[o("i",{staticClass:"fas fa-trash-alt fa-2x"})])]),o("div",{staticClass:"column has-text-centered"},[o("p",{staticClass:"subtitle"},[t._v("Una vez eliminado no se podran recuperar")])])])}],v={name:"Modal_Eliminar",props:["datos","modo"],methods:{Eliminar:function(){var t=this;"usuario"==this.modo&&(console.log(this.datos),this.axios.post("/getDeleteUser",{id:this.datos._id,Nombre:this.datos.Nombre}).then((function(a){t.$store.commit("loadDataBaseUser"),t.Cerrar()}))),"registro"==this.modo&&this.axios.post("/getDelete",{id:this.datos._id,Nombre:this.datos.Nombre}).then((function(a){t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Cerrar()})),"tabs"==this.modo&&this.axios.post("/getDelete",{id:this.datos._id,Nombre:this.datos.Nombre}).then((function(a){n["a"].state.UsuarioPerfil=null,n["a"].state.ModoTabla="usuarios",t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Cerrar()}))},Cerrar:function(){this.$store.state.ModalEliminar=!1}}},m=v,f=o("2877"),h=Object(f["a"])(m,u,d,!1,null,null,null),g=h.exports,_=o("9c9e"),b={name:"Tabla",components:{Modal_Eliminar:g},props:{datos:Array,configuracion:Array,modo:String},data:function(){return{DatosModalEliminar:[],UsuarioElegido:[],PaginaCorriente:1,ObjetosPorPagina:50,Conteo:0}},mixins:[_["a"]],created:function(){},watch:{Datos_de_Tabla:function(){n["a"].state.UsuarioElegido},OrdenBusquedaParcial:function(){}},computed:{Datos_de_Tabla:{get:function(t){if("Registro"==this.modo)return""==n["a"].state.RegistroParcial?this.TablaOrdenRegistro(this.Orden,"Categoria"):n["a"].state.RegistroParcial;if("Usuarios"==this.modo){if(""==n["a"].state.UsuarioParcial){for(var a=[{}],o=0;o<this.datos.length;o++)a[o]={_id:this.datos[o]._id,Nombre:this.datos[o].Nombre,Telefono:this.datos[o].Telefono,Direccion:this.datos[o].Direccion,Oficio:this.datos[o].Oficio,Actividad:this.datos[o].Actividad};return a}return n["a"].state.UsuarioParcial}if("Tabs"==this.modo){a=[{}];for(var i=0;i<this.datos.length;i++)a[i]={_id:this.datos[i]._id,Nombre:this.datos[i].Nombre,Productos:this.datos[i].Productos,Precio:this.MonedaLocal(this.datos[i].Precio),Abono:this.MonedaLocal(this.datos[i].Abono),Categoria:this.datos[i].Categoria,Cantidad:this.datos[i].Cantidad,Fecha:this.FechaLocal(this.datos[i].Fecha)};return a}},set:function(){}},Orden:function(){return n["a"].state.OrdenRegistro},PaginaTotal:function(){return Math.ceil(this.Conteo/this.ObjetosPorPagina)},Paginacion:function(){this.Conteo=this.Datos_de_Tabla.length,this.PaginaCorriente>=this.PaginaTotal&&(this.PaginaCorriente=this.PaginaTotal);var t=this.PaginaCorriente*this.ObjetosPorPagina-this.ObjetosPorPagina;return this.Datos_de_Tabla.slice(t,t+this.ObjetosPorPagina)}},methods:{PaginaElegida:function(t){this.PaginaCorriente=t},ModalEliminar:function(t){"Usuarios"==this.modo&&(this.DatosModalEliminar=t,n["a"].state.ModalEliminar="usuario"),"Registro"==this.modo&&(this.DatosModalEliminar=t,n["a"].state.ModalEliminar="registro"),"Tabs"==this.modo&&(this.DatosModalEliminar=t,n["a"].state.ModalEliminar="tabs")},EditarDatos:function(t){"Usuarios"==this.modo&&(n["a"].state.UsuarioElegido=t,this.UsuarioElegido=t,n["a"].state.ModoTabla="",n["a"].state.UsuarioPerfil="editar_usuario"),"Registro"==this.modo&&(n["a"].state.RegistroElegido=t,n["a"].state.Registro_Actividad=!0),"Tabs"==this.modo&&(n["a"].state.RegistroElegido=t,n["a"].state.Registro_Actividad=!0)}}},C=b,D=Object(f["a"])(C,c,l,!1,null,null,null),p=D.exports,P=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"columns"}),o("nav",{staticClass:"level"},[o("div",{staticClass:"level-left"},[o("div",{staticClass:"level-item"},[o("div",{staticClass:"field has-addons"},[o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",attrs:{type:"text",placeholder:"Encontrar"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}}),t.MostrarListaUsuarios?o("ul",{staticClass:"my-list"},t._l(t.UsuariosParciales,(function(a){return o("li",{key:a._id,on:{click:function(o){return t.UsuarioSeleccionado(a)}}},[t._v(t._s(a.Nombre))])})),0):t._e(),t.MostrarListaRegistros?o("ul",{staticClass:"my-list"},t._l(t.RegistrosParciales,(function(a){return o("li",{key:a._id,on:{click:function(o){return t.RegistroSeleccionado(a)}}},[t._v(t._s(a.Nombre))])})),0):t._e(),0==t.UsuarioExiste?o("p",{staticStyle:{color:"red"}},[t._m(0),t._v(" Este usuario no existe ")]):t._e(),1==t.UsuarioExiste?o("p",{staticStyle:{color:"green"}},[t._m(1),t._v(" Usuario encontrado ")]):t._e()])])]),t._m(2),o("div",{staticClass:"level-item"},["usuarios"==t.$store.state.ModoTabla?o("div",{staticClass:"select is-info"},[t._m(3)]):t._e(),"registros"==t.$store.state.ModoTabla?o("div",{staticClass:"select is-info"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Orden,expression:"Orden"}],on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.Orden=a.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"Total"}},[t._v("Total")]),o("option",{attrs:{value:"Ingresos"}},[t._v("Ingresos")]),o("option",{attrs:{value:"Egresos"}},[t._v("Egresos")]),o("option",{attrs:{value:"Deuda"}},[t._v("Deuda")])])]):t._e()])]),o("div",{staticClass:"level-right"},[o("div",{staticClass:"level-item"},[o("div",{staticClass:"select is-medium"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Modo,expression:"Modo"}],on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.Modo=a.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"usuarios"}},[t._v("Usuarios")]),o("option",{attrs:{value:"registros"}},[t._v("Registros")])])])]),o("div",{staticClass:"level-item"},["usuarios"==t.$store.state.ModoTabla?o("button",{staticClass:"button is-info",on:{click:function(a){t.AñadirUsuario()}}},[t._m(4),o("span",[t._v("Añadir")])]):t._e(),"registros"==t.$store.state.ModoTabla?o("button",{staticClass:"button is-info",on:{click:function(a){t.AñadirRegistro()}}},[t._m(5),o("span",[t._v("Añadir")])]):t._e()])])])])},E=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-danger"},[o("i",{staticClass:"fas fa-ban"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fas fa-check-square"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"level-item"},[o("p",[t._v("Orden")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("select",[o("option",{attrs:{value:"A-Z"}},[t._v("A-Z")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fas fa-user-plus"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon"},[o("i",{staticClass:"far fa-address-book"})])}],N={name:"Panel_de_Control",components:{Tabla:p},props:{usuarios:Array,registro:Array},data:function(){return{Datos:[],UsuarioExiste:null,UsuarioElegido:"",RegistroElegido:"",MostrarListaUsuarios:!1,MostrarListaRegistros:!1,RegistrosParciales:[],UsuariosParciales:[],Modo:"",Orden:"Total",configuracion_usuarios:[{clave:"Nombre",titulo:"Nombre"},{clave:"Telefono",titulo:"Telefono"},{clave:"Direccion",titulo:"Direccion"},{clave:"Oficio",titulo:"Oficio"}],configuracion_registro:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Cantidad",titulo:"#"},{clave:"Fecha",titulo:"Fecha"}]}},mixins:[_["a"]],created:function(){this.Modo="usuarios"},watch:{"Datos.Nombre":function(){"usuarios"==n["a"].state.ModoTabla&&(""==this.UsuarioElegido?this.BuscarUsuario():this.UsuarioElegido=""),"registros"==n["a"].state.ModoTabla?""==this.RegistroElegido&&this.BuscarRegistro():this.RegistroElegido=""},Orden:function(){n["a"].state.OrdenRegistro=this.Orden},Modo:function(){"usuarios"==this.Modo&&(n["a"].state.ModoTabla="usuarios"),"registros"==this.Modo&&(n["a"].state.ModoTabla="registros")}},methods:{"AñadirRegistro":function(){n["a"].state.RegistroNuevo=!0,n["a"].state.Registro_Actividad=!0},"AñadirUsuario":function(){n["a"].state.ModoTabla="",n["a"].state.UsuarioNuevo=!0,n["a"].state.UsuarioPerfil="nuevo_usuario"}}},A=N,U=Object(f["a"])(A,P,E,!1,null,null,null),M=U.exports,x=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"box"},[o("div",[o("div",{staticClass:"has-text-right"},[o("button",{staticClass:"delete is-large",attrs:{v:""},on:{click:t.Cerrar}},[t._v("Cerrar")])]),o("div",{staticClass:"columns"},[t._m(0),o("div",{staticClass:"column"},[o("div",{staticClass:"columm"},[o("div",{staticClass:"field"},[o("p",{staticClass:"title"},[t._v(t._s(t.modo))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos._id,expression:"Datos._id"}],staticClass:"input",staticStyle:{border:"none"},attrs:{type:"text"},domProps:{value:t.Datos._id},on:{input:function(a){a.target.composing||t.$set(t.Datos,"_id",a.target.value)}}}),1==t.notificacion.Nombre?o("p",{staticClass:"has-text-danger"},[t._v("Por lo menos nombre debe ser llenado")]):t._e(),o("label",{staticClass:"label"},[t._v("Nombre:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",class:t.VerificarNombre,attrs:{type:"text"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Telefono:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Telefono,expression:"Datos.Telefono"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Telefono},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Telefono",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Direccion:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Direccion,expression:"Datos.Direccion"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Direccion},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Direccion",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Oficio:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Oficio,expression:"Datos.Oficio"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Oficio},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Oficio",a.target.value)}}})]),o("div",{staticClass:"control"},[o("button",{staticClass:"button is-info",on:{click:function(a){return t.EnvioDatos()}}},[t._v("Guardar")])])])])])])]),o("div",{staticClass:"tabs is-centered"},[o("ul",[o("li",{class:{"is-active":1==t.tabActive},on:{click:function(a){return t.tabSeleccionada(1)}}},[o("a",[t._v("Ingresos")])]),o("li",{class:{"is-active":2==t.tabActive},on:{click:function(a){return t.tabSeleccionada(2)}}},[o("a",[t._v("Egresos")])]),o("li",{class:{"is-active":3==t.tabActive},on:{click:function(a){return t.tabSeleccionada(3)}}},[o("a",[t._v("Deuda")])])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabActive,expression:"tabActive == 1"}]},[o("Tabla",{attrs:{datos:t.tabIngresos,modo:"Tabs",configuracion:t.configuracion_ingresos_egresos}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabActive,expression:"tabActive == 2"}]},[o("Tabla",{attrs:{datos:t.tabEgresos,modo:"Tabs",configuracion:t.configuracion_ingresos_egresos}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:3==t.tabActive,expression:"tabActive == 3"}]},[o("Tabla",{attrs:{datos:t.tabDeuda,modo:"Tabs",configuracion:t.configuracion_deuda}})],1)])},T=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"column"},[i("div",{staticClass:"card"},[i("img",{attrs:{src:o("4dcc"),alt:""}})])])}],$=(o("4de4"),{name:"Usuario_Perfil",components:{Tabla:p},props:["usuario","modo"],data:function(){return{notificacion:{Nombre:null},configuracion_ingresos_egresos:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Cantidad",titulo:"#"},{clave:"Fecha",titulo:"Fecha"}],configuracion_deuda:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Abono",titulo:"Abono"},{clave:"Cantidad",titulo:"#"},{clave:"Fecha",titulo:"Fecha"}],DatosReactivos:[],tabActive:1,tabData:[],tabIngresos:[],tabEgresos:[],tabDeuda:[]}},watch:{"Datos.Nombre":function(){""!=this.Datos.Nombre?this.notificacion.Nombre=!1:""==this.Datos.Nombre&&(this.notificacion.Nombre=!0)}},computed:{VerificarNombre:function(){return{"is-danger":null==this.Datos.Precio&&1==this.notificacion.Nombre,"is-primary":""!=this.Datos.Nombre&&0==this.notificacion.Nombre}},Datos:function(){return this.DatosReactivos},TabsDatos:function(){var t=this;this.axios.post("userDeuda",{Nombre:this.usuario.Nombre}).then((function(a){return t.tabData=a.data,t.tabData}))}},created:function(){this.modo,"Editar Usuario"==this.modo&&(this.DatosReactivos=this.usuario,this.universalTabs())},methods:{Cerrar:function(){n["a"].state.UsuarioPerfil=null,n["a"].state.ModoTabla="usuarios"},tabSeleccionada:function(t){switch(this.tabActive=t,t){}},universalTabs:function(){var t=0,a=this.usuario.Actividad.filter((function(t){return"Ingresos"==t.Categoria}));this.tabIngresos=a;var o=this.usuario.Actividad.filter((function(t){return"Egresos"==t.Categoria}));this.tabEgresos=o;for(var i=this.usuario.Actividad.filter((function(t){return"Deuda"==t.Categoria})),s=0;s<i.length;s++){for(var e=0;e<i[s].Abono.length;e++)t+=i[s].Abono[e];i[s].Abono=[],i[s].Abono=t,t=0}this.tabDeuda=i},EnvioDatos:function(){var t=this;if(0==this.notificacion.Nombre)"Nuevo Usuario"==this.modo&&this.axios.post("/newUser",{Nombre:this.Datos.Nombre,Telefono:this.Datos.Telefono,Direccion:this.Datos.Direccion,Oficio:this.Datos.Oficio}).then((function(a){console.log(a.data),t.$store.commit("loadDataBaseUser"),t.Datos.Nombre="",t.Datos.Telefono="",t.Datos.Direccion="",t.Datos.Oficio="",t.Cerrar()})).catch((function(t){})),"Editar Usuario"==this.modo&&this.axios.post("/getUpdateUser",{_id:this.Datos._id,Nombre:this.Datos.Nombre,Telefono:this.Datos.Telefono,Direccion:this.Datos.Direccion,Oficio:this.Datos.Oficio}).then((function(a){n["a"].commit("loadDataBaseUser"),t.Cerrar()}));else for(var a in this.notificacion)null==this.notificacion[a]&&(this.notificacion[a]=!0)}}}),k=$,y=Object(f["a"])(k,x,T,!1,null,null,null),O=y.exports,R=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"modal is-active"},[o("div",{staticClass:"modal-background"}),o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v(t._s(t.Modo))]),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.Cerrar}})]),o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"field"},[1==t.notificacion[0].Categoria||1==t.notificacion[0].Precio?o("p",{staticClass:"has-text-danger"},[t._v("Debe llenar los formularios vacios")]):t._e(),o("div",{staticClass:"control"},[o("label",{staticClass:"label",class:t.CategoriaValidador},[t._v("Categoria")]),o("div",{staticClass:"select",class:t.CategoriaValidador},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Categoria,expression:"Datos.Categoria"}],on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Datos,"Categoria",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Ingresos"}},[t._v("Ingresos")]),o("option",{attrs:{value:"Egresos"}},[t._v("Egresos")]),o("option",{attrs:{value:"Deuda"}},[t._v("Deuda")]),o("option",{attrs:{value:"Abono"}},[t._v("Abono")])])])])]),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[t._v("Nombre")]),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",class:{"is-primary":t.UsuarioExiste},attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}}),t.MostrarListaUsuarios?o("ol",{staticClass:"my-list"},t._l(t.UsuariosParciales,(function(a){return o("li",{key:a._id,on:{click:function(o){return t.ModalUsuarioSeleccionado(a)}}},[t._v(t._s(a.Nombre))])})),0):t._e()]),1==t.UsuarioExiste?o("p",{staticStyle:{color:"green"}},[t._m(0),t._v(" Este usuario existe ")]):t._e(),0==t.UsuarioExiste?o("p",{staticStyle:{color:"red"}},[t._m(1),t._v(" Este usuario no existe presione "),o("a",[t._v("aqui")]),t._v(" para añadirlo ")]):t._e(),null==t.UsuarioExiste?o("p",{staticStyle:{color:"#3298dc"}},[t._m(2),t._v(" En espera ")]):t._e()]),0==t.ModoAbono?o("div",{staticClass:"field"},[o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[o("label",{staticClass:"label"},[t._v("Producto")]),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Productos,expression:"Datos.Productos"}],staticClass:"input",class:t.ProductosValidador,attrs:{type:"text",list:"Productos"},domProps:{value:t.Datos.Productos},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Productos",a.target.value)}}}),t._m(3)])]),o("div",{staticClass:"column is-5"},[o("label",{staticClass:"label"},[t._v("Cantidad")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Cantidad,expression:"Datos.Cantidad"}],staticClass:"input",class:t.CantidadValidador,attrs:{type:"number",min:"1",max:"100"},domProps:{value:t.Datos.Cantidad},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Cantidad",a.target.value)}}})])])]):t._e(),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[t._v("Precio")]),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Precio,expression:"Datos.Precio"}],staticClass:"input",class:t.PrecioValidador,attrs:{id:"Precio",name:"Precio",type:"text",placeholder:"Precio"},domProps:{value:t.Datos.Precio},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Precio",a.target.value)}}})])])]),o("footer",{staticClass:"modal-card-foot"},[0==t.ModoAbono?o("a",{staticClass:"card-footer-item button is-info",attrs:{disabled:0==t.BotonActivo},on:{click:function(a){return t.EnviarDatos()}}},[t._v(t._s(t.Modo))]):t._e(),t.ModoAbono?o("a",{staticClass:"card-footer-item button is-info",attrs:{disabled:0==t.BotonActivo},on:{click:function(a){return t.Abono()}}},[t._v("Abono")]):t._e(),o("a",{staticClass:"card-footer-item button",on:{click:t.Cerrar}},[t._v("Cancelar")])])]),1==t.$store.state.ModalAbono?o("Modal_Abono",{attrs:{usuario:t.UsuarioDeuda,abono:t.Datos.Precio}}):t._e()],1)])},w=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fas fa-check-square"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-danger"},[o("i",{staticClass:"fas fa-ban"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-info"},[o("i",{staticClass:"fas fa-user-clock"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("datalist",{attrs:{id:"Productos"}},[o("option",{attrs:{value:"Pollo"}},[t._v("Pollo")]),o("option",{attrs:{value:"Gallinita"}},[t._v("Gallinita")]),o("option",{attrs:{value:"Huevo"}},[t._v("Huevo")]),o("option",{attrs:{value:"Pescado"}},[t._v("Pescado")])])}],S=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("aside",{staticClass:"menuSide"},[o("div",{staticClass:"column"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v(t._s(t.usuario)+": Deudas")]),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){return t.closeSidebar()}}})]),t.Deuda.length>0?o("div",{staticClass:"content"},[o("table",{staticClass:"table"},[t._m(0),o("tbody",t._l(t.Paginacion,(function(a){return o("tr",{key:a._id},[o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(a.Productos))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.MonedaLocal(a.Precio)))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.MonedaLocal(t.totalAbono(a.Abono))))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.MonedaLocal(a.Precio-t.totalAbono(a.Abono))))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(a.Cantidad))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.FechaLocal(a.Fecha)))])])})),0),o("tfoot",[o("tr",[o("th",[t._v("Total")]),o("th",[t._v(t._s(t.MonedaLocal(t.Total(t.Deuda))))]),o("th"),o("th"),o("th"),o("th")])])])]):t._e(),o("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[o("ul",{staticClass:"pagination-list"},t._l(t.PaginaTotal,(function(a){return o("li",{key:a},[o("a",{key:a,staticClass:"pagination-link",class:{"is-current":t.PaginaCorriente==a},attrs:{href:"#"},on:{click:function(o){return t.PaginaElegida(a)}}},[t._v(t._s(a))])])})),0)]),t.MostrarDeudaElegida?o("div",{staticClass:"column"},[o("p",{staticClass:"subtitle"},[t._v("Deuda elegida")]),o("table",{staticClass:"table"},[t._m(1),o("tbody",[o("tr",[o("td",[t._v(t._s(t.DeudaElegida.Productos))]),o("td",[t._v(t._s(t.DeudaElegida.Precio))])])]),o("tfoot",[o("th",[t._v("Abono")]),o("th",[t._v(t._s(t.abono))])])]),o("footer",{staticClass:"modal-card-foot"},[o("a",{staticClass:"card-footer-item button is-info",on:{click:function(a){return t.DeudaAceptada(t.DeudaElegida)}}},[t._v("Aceptar")]),o("a",{staticClass:"card-footer-item button is-danger",on:{click:function(a){return t.closeSidebar()}}},[t._v("Cancelar")])])]):t._e()])])},B=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",[o("tr",[o("th",[t._v("Productos")]),o("th",[t._v("Precio")]),o("th",[t._v("Abono")]),o("th",[t._v("Restante")]),o("th",[t._v("#")]),o("th",[t._v("Fecha")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",[o("tr",[o("th",[t._v("Producto")]),o("th",[t._v("Precio")])])])}],j={name:"Modal_Abono",props:{usuario:String,abono:String},data:function(){return{Datos:{},Deuda:{},DeudaElegida:[],MostrarDeudaElegida:!1,PaginaCorriente:1,ObjetosPorPagina:3,Conteo:0}},mixins:[_["a"]],created:function(){this.DeudaData()},computed:{Usuario:function(){return this.usuario},PaginaTotal:function(){return Math.ceil(this.Conteo/this.ObjetosPorPagina)},Paginacion:function(){this.Conteo=this.Deuda.length,this.PaginaCorriente>=this.PaginaTotal&&(this.PaginaCorriente=this.PaginaTotal);var t=this.PaginaCorriente*this.ObjetosPorPagina-this.ObjetosPorPagina;return this.Deuda.slice(t,t+this.ObjetosPorPagina)},NumeroReal:function(){return this.NumeroSinPuntos(this.abono)}},watch:{Datos:{handler:function(){this.filtro()}},Usuario:function(){this.DeudaData()}},methods:{closeSidebar:function(){this.$store.state.ModalAbono=!1},PaginaElegida:function(t){this.PaginaCorriente=t},DeudaData:function(){var t=this;this.axios.post("userDeuda",{Nombre:this.Usuario}).then((function(a){t.Datos=a.data}))},filtro:function(){var t=this,a=[],o=[],i=this.Datos[0].Actividad.filter((function(t){return"Deuda"==t.Categoria}));this.Deuda=i;for(var s=0;s<this.Deuda.length;s++)a[s]=this.totalAbono(this.Deuda[s].Abono),o[s]=this.Deuda[s]._id,a[s]>=this.Deuda[s].Precio&&this.axios.post("userDeudaPagada",{_id:o[s],Deuda:"Pagada",Categoria:"Ingresos"}).then((function(a){t.DeudaData()}))},totalAbono:function(t){for(var a=0,o=0;o<t.length;o++)a+=t[o];return a},DeudaSeleccionada:function(t){console.log(t),this.MostrarDeudaElegida=!0,this.DeudaElegida=t},DeudaAceptada:function(t){var a=this;this.axios.post("/abono",{_id:t._id,Nombre:t.Nombre,Abono:this.NumeroReal}).then((function(t){a.DeudaData()}))},Total:function(t){if(t.length>0){for(var a=0,o=0;o<t.length;o++)a+=t[o].Precio;return a}return"No datos"}}},F=j,L=Object(f["a"])(F,S,B,!1,null,null,null),V=L.exports,I={name:"Registro_Actividad",components:{Modal_Abono:V},data:function(){return{Datos:[],notificacion:[{Categoria:null,Productos:null,Cantidad:null,Precio:null}],UsuariosParciales:[],UsuarioElegido:"",UsuarioDeuda:[],UsuarioAbono:"",MostrarListaUsuarios:!1,UsuarioExiste:null,BotonActivo:!1,PrecioReal:0,Modo:"",ModoAbono:!1}},created:function(){n["a"].state.RegistroElegido!=[]&&(this.Datos=n["a"].state.RegistroElegido,this.Modo="Editar"),1==n["a"].state.RegistroNuevo&&(this.Datos=[],this.Modo="Añadir")},watch:{UsuarioExiste:function(){this.VerficarExistencia()},"Datos.Nombre":function(){""==this.UsuarioElegido?this.BuscarUsuarioRegistro():this.UsuarioElegido=""},"Datos.Precio":function(){this.Datos.Precio=this.NumeroFalso,""!=this.Datos.Precio&&(this.notificacion[0].Precio=!1)},"Datos.Productos":function(){""!=this.Datos.Productos&&(this.notificacion[0].Productos=!1)},"Datos.Cantidad":function(){""!=this.Datos.Cantidad&&(this.notificacion[0].Cantidad=!1)},"Datos.Categoria":function(){""!=this.Datos.Categoria&&(this.notificacion[0].Categoria=!1),"Abono"==this.Datos.Categoria?this.ModoAbono=!0:this.ModoAbono=!1}},mixins:[_["a"]],computed:{PrecioValidador:function(){return{"is-danger":null==this.Datos.Precio&&1==this.notificacion[0].Precio,"is-primary":""!=this.Datos.Precio&&0==this.notificacion[0].Precio}},CategoriaValidador:function(){return{"is-danger":null==this.Datos.Categoria&&1==this.notificacion[0].Categoria,"is-primary":""!=this.Datos.Categoria&&0==this.notificacion[0].Categoria}},ProductosValidador:function(){return{"is-danger":null==this.Datos.Productos&&1==this.notificacion[0].Productos,"is-primary":""!=this.Datos.Productos&&0==this.notificacion[0].Productos}},CantidadValidador:function(){return{"is-danger":null==this.Datos.Cantidad&&1==this.notificacion[0].Cantidad,"is-primary":""!=this.Datos.Cantidad&&0==this.notificacion[0].Cantidad}},NumeroFalso:function(){var t=this.NumeroSinPuntos(this.Datos.Precio);return this.MonedaLocal(t)},NumeroReal:function(){return this.NumeroSinPuntos(this.NumeroFalso)}},methods:{Cerrar:function(){n["a"].state.RegistroNuevo=!1,n["a"].state.Registro_Actividad=!1},Abono:function(){n["a"].state.ModalAbono=!0},Encontrar:function(t,a,o){return t[a]==o},EnviarDatos:function(){var t=this;if(0==this.notificacion[0].Categoria&&0==this.notificacion[0].Precio&&0==this.notificacion[0].Cantidad&&0==this.notificacion[0].Productos)"Añadir"==this.Modo&&this.axios.post("/getData",{Nombre:this.Datos.Nombre,Productos:this.Datos.Productos,Precio:this.NumeroReal,Cantidad:this.Datos.Cantidad,Categoria:this.Datos.Categoria,Telefono:"No datos"}).then((function(a){t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Datos.Nombre="",t.Datos.Productos="",t.Datos.Precio="",t.Datos.Cantidad="",t.Datos.Categoria="",t.Cerrar()})).catch((function(t){})),"Editar"==this.Modo&&this.axios.post("/getUpdate",{_id:this.Datos._id,Nombre:this.Datos.Nombre,Productos:this.Datos.Productos,Cantidad:this.Datos.Cantidad,Precio:this.NumeroReal,Categoria:this.Datos.Categoria}).then((function(a){"editar_usuario"==n["a"].state.UsuarioPerfil&&(n["a"].state.UsuarioPerfil=null,n["a"].state.ModoTabla="usuarios"),t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Datos._id="",t.Datos.Nombre="",t.Datos.Productos="",t.Datos.Precio="",t.Datos.Cantidad="",t.Datos.Categoria="",t.Cerrar()})).catch((function(t){}));else for(var a in this.notificacion[0])null==this.notificacion[0][a]&&(this.notificacion[0][a]=!0)}}},q=I,G=Object(f["a"])(q,R,w,!1,null,null,null),H=G.exports,J={components:{Panel_de_Control:M,Usuario_Perfil:O,Tabla:p,Registro_Actividad:H},data:function(){return{configuracion_usuarios:[{clave:"Nombre",titulo:"Nombre"},{clave:"Telefono",titulo:"Telefono"},{clave:"Direccion",titulo:"Direccion"},{clave:"Oficio",titulo:"Oficio"}],configuracion_registros:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Cantidad",titulo:"#"},{clave:"Categoria",titulo:"Categoria"},{clave:"Fecha",titulo:"Fecha"}]}},created:function(){n["a"].commit("loadDataBase"),n["a"].commit("loadDataBaseUser")},computed:Object(e["a"])({},Object(r["b"])(["DataBase","DataBaseUser"]))},Z=J,z=Object(f["a"])(Z,i,s,!1,null,null,null);a["default"]=z.exports},"4dcc":function(t,a,o){t.exports=o.p+"img/user_img.5b9f0b22.jpg"}}]);
//# sourceMappingURL=usuarios.323046f5.js.map