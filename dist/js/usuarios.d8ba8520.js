(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["usuarios"],{"00f9":function(t,a,o){"use strict";o.r(a);var s=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("section",{staticClass:"section"},[o("div",{staticClass:"container"},[o("div",{staticClass:"column"},[o("Panel_de_Control",{attrs:{usuarios:t.DataBaseUser,registro:t.DataBase}})],1),o("div",{staticClass:"column"},["usuarios"==t.$store.state.ModoTabla?o("Tabla",{attrs:{datos:t.DataBaseUser,configuracion:t.configuracion_usuarios,modo:"Usuarios"}}):t._e(),"registros"==t.$store.state.ModoTabla?o("Tabla",{attrs:{datos:t.DataBase,configuracion:t.configuracion_registros,modo:"Registro"}}):t._e()],1),"nuevo_usuario"==t.$store.state.UsuarioPerfil?o("Usuario_Perfil",{attrs:{modo:"Nuevo Usuario",usuario:t.$store.state.UsuarioElegido}}):t._e(),"editar_usuario"==t.$store.state.UsuarioPerfil?o("Usuario_Perfil",{attrs:{modo:"Editar Usuario",usuario:t.$store.state.UsuarioElegido}}):t._e(),t.$store.state.Registro_Actividad?o("Registro_Actividad"):t._e()],1)])])},e=[],i=o("5530"),r=o("2f62"),n=o("4360"),c=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[t.datos.length>0?o("table",{staticClass:"table is-bordered table is-hoverable is-fullwidth",attrs:{id:t.modo}},[o("thead",[o("tr",[t._l(t.configuracion,(function(a){return o("th",{key:a.clave},[t._v(t._s(a.titulo))])})),o("th",[t._v("Operacion")])],2)]),o("tbody",t._l(t.Datos_de_Tabla,(function(a){return o("tr",{key:a._id},[t._l(t.configuracion,(function(s){return o("td",{key:s.clave,on:{click:function(o){return t.EditarDatos(a)}}},[t._v(t._s(a[s.clave]))])})),o("td",[o("a",{on:{click:function(o){return t.ModalEliminar(a)}}},[t._m(0,!0)])])],2)})),0),"Usuarios"!=t.modo?o("tfoot",[o("tr",[o("th",[t._v("Total")]),o("th"),o("th",[t._v(t._s(t.MonedaLocal(t.SumaTotal(t.Datos_de_Tabla))))])])]):t._e()]):t._e(),"usuario"==t.$store.state.ModalEliminar?o("Modal_Eliminar",{attrs:{modo:"usuario",datos:t.DatosModalEliminar}}):t._e(),"registro"==t.$store.state.ModalEliminar?o("Modal_Eliminar",{attrs:{modo:"registro",datos:t.DatosModalEliminar}}):t._e(),"tabs"==t.$store.state.ModalEliminar?o("Modal_Eliminar",{attrs:{modo:"tabs",datos:t.DatosModalEliminar}}):t._e()],1)},l=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon is-small has-text-danger"},[o("i",{staticClass:"fas fa-trash-alt"})])}],u=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"modal is-active"},[o("div",{staticClass:"modal-background"}),o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v("¿Desea eliminar este registro?")]),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.Cerrar}})]),t._m(0),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button is-danger",on:{click:t.Eliminar}},[t._v("Eliminar")]),o("button",{staticClass:"button",on:{click:t.Cerrar}},[t._v("Cancelar")])])])])])},d=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"has-text-centered"},[o("span",{staticClass:"icon has-text-danger"},[o("i",{staticClass:"fas fa-trash-alt fa-2x"})])]),o("div",{staticClass:"column has-text-centered"},[o("p",{staticClass:"subtitle"},[t._v("Una vez eliminado no se podran recuperar")])])])}],v={name:"Modal_Eliminar",props:["datos","modo"],methods:{Eliminar:function(){var t=this;"usuario"==this.modo&&(console.log(this.datos),this.axios.post("/getDeleteUser",{id:this.datos._id,Nombre:this.datos.Nombre}).then((function(a){t.$store.commit("loadDataBaseUser"),t.Cerrar()}))),"registro"==this.modo&&this.axios.post("/getDelete",{id:this.datos._id,Nombre:this.datos.Nombre}).then((function(a){t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Cerrar()})),"tabs"==this.modo&&this.axios.post("/getDelete",{id:this.datos._id,Nombre:this.datos.Nombre}).then((function(a){n["a"].state.UsuarioPerfil=null,n["a"].state.ModoTabla="usuarios",t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Cerrar()}))},Cerrar:function(){this.$store.state.ModalEliminar=!1}}},m=v,f=o("2877"),_=Object(f["a"])(m,u,d,!1,null,null,null),h=_.exports,b=o("9c9e"),g={name:"Tabla",components:{Modal_Eliminar:h},props:{datos:Array,configuracion:Array,modo:String},data:function(){return{DatosModalEliminar:[],UsuarioElegido:[]}},mixins:[b["a"]],created:function(){},watch:{Datos_de_Tabla:function(){n["a"].state.UsuarioElegido},OrdenBusquedaParcial:function(){}},computed:{Datos_de_Tabla:{get:function(t){if("Registro"==this.modo)return""==n["a"].state.RegistroParcial?this.TablaOrdenRegistro(this.Orden,"Categoria"):n["a"].state.RegistroParcial;if("Usuarios"==this.modo){if(""==n["a"].state.UsuarioParcial){for(var a=[{}],o=0;o<this.datos.length;o++)a[o]={_id:this.datos[o]._id,Nombre:this.datos[o].Nombre,Telefono:this.datos[o].Telefono,Direccion:this.datos[o].Direccion,Oficio:this.datos[o].Oficio,Actividad:this.datos[o].Actividad};return a}return n["a"].state.UsuarioParcial}if("Tabs"==this.modo){a=[{}];for(var s=0;s<this.datos.length;s++)a[s]={_id:this.datos[s]._id,Nombre:this.datos[s].Nombre,Productos:this.datos[s].Productos,Precio:this.MonedaLocal(this.datos[s].Precio),Abono:this.MonedaLocal(this.datos[s].Abono),Categoria:this.datos[s].Categoria,Cantidad:this.datos[s].Cantidad,Fecha:this.FechaLocal(this.datos[s].Fecha)};return a}},set:function(){}},Orden:function(){return n["a"].state.OrdenRegistro}},methods:{ModalEliminar:function(t){"Usuarios"==this.modo&&(this.DatosModalEliminar=t,n["a"].state.ModalEliminar="usuario"),"Registro"==this.modo&&(this.DatosModalEliminar=t,n["a"].state.ModalEliminar="registro"),"Tabs"==this.modo&&(this.DatosModalEliminar=t,n["a"].state.ModalEliminar="tabs")},EditarDatos:function(t){"Usuarios"==this.modo&&(n["a"].state.UsuarioElegido=t,this.UsuarioElegido=t,n["a"].state.ModoTabla="",n["a"].state.UsuarioPerfil="editar_usuario"),"Registro"==this.modo&&(n["a"].state.RegistroElegido=t,n["a"].state.Registro_Actividad=!0),"Tabs"==this.modo&&(n["a"].state.RegistroElegido=t,n["a"].state.Registro_Actividad=!0)}}},D=g,p=Object(f["a"])(D,c,l,!1,null,null,null),C=p.exports,E=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"columns"}),o("nav",{staticClass:"level"},[o("div",{staticClass:"level-left"},[o("div",{staticClass:"level-item"},[o("div",{staticClass:"field has-addons"},[o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",attrs:{type:"text",placeholder:"Encontrar"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}}),t.MostrarListaUsuarios?o("ul",{staticClass:"my-list"},t._l(t.UsuariosParciales,(function(a){return o("li",{key:a._id,on:{click:function(o){return t.UsuarioSeleccionado(a)}}},[t._v(t._s(a.Nombre))])})),0):t._e(),t.MostrarListaRegistros?o("ul",{staticClass:"my-list"},t._l(t.RegistrosParciales,(function(a){return o("li",{key:a._id,on:{click:function(o){return t.RegistroSeleccionado(a)}}},[t._v(t._s(a.Nombre))])})),0):t._e(),0==t.UsuarioExiste?o("p",{staticStyle:{color:"red"}},[t._m(0),t._v(" Este usuario no existe ")]):t._e(),1==t.UsuarioExiste?o("p",{staticStyle:{color:"green"}},[t._m(1),t._v(" Usuario encontrado ")]):t._e()])])]),t._m(2),o("div",{staticClass:"level-item"},["usuarios"==t.$store.state.ModoTabla?o("div",{staticClass:"select is-info"},[t._m(3)]):t._e(),"registros"==t.$store.state.ModoTabla?o("div",{staticClass:"select is-info"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Orden,expression:"Orden"}],on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.Orden=a.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"Total"}},[t._v("Total")]),o("option",{attrs:{value:"Ingresos"}},[t._v("Ingresos")]),o("option",{attrs:{value:"Egresos"}},[t._v("Egresos")]),o("option",{attrs:{value:"Deuda"}},[t._v("Deuda")])])]):t._e()])]),o("div",{staticClass:"level-right"},[o("div",{staticClass:"level-item"},[o("div",{staticClass:"select is-medium"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Modo,expression:"Modo"}],on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.Modo=a.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"usuarios"}},[t._v("Usuarios")]),o("option",{attrs:{value:"registros"}},[t._v("Registros")])])])]),o("div",{staticClass:"level-item"},["usuarios"==t.$store.state.ModoTabla?o("button",{staticClass:"button is-info",on:{click:function(a){t.AñadirUsuario()}}},[t._m(4),o("span",[t._v("Añadir")])]):t._e(),"registros"==t.$store.state.ModoTabla?o("button",{staticClass:"button is-info",on:{click:function(a){t.AñadirRegistro()}}},[t._m(5),o("span",[t._v("Añadir")])]):t._e()])])])])},P=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-danger"},[o("i",{staticClass:"fas fa-ban"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fas fa-check-square"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"level-item"},[o("p",[t._v("Orden")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("select",[o("option",{attrs:{value:"A-Z"}},[t._v("A-Z")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fas fa-user-plus"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon"},[o("i",{staticClass:"far fa-address-book"})])}],A={name:"Panel_de_Control",components:{Tabla:C},props:{usuarios:Array,registro:Array},data:function(){return{Datos:[],UsuarioExiste:null,UsuarioElegido:"",RegistroElegido:"",MostrarListaUsuarios:!1,MostrarListaRegistros:!1,RegistrosParciales:[],UsuariosParciales:[],Modo:"",Orden:"Total",configuracion_usuarios:[{clave:"Nombre",titulo:"Nombre"},{clave:"Telefono",titulo:"Telefono"},{clave:"Direccion",titulo:"Direccion"},{clave:"Oficio",titulo:"Oficio"}],configuracion_registro:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Cantidad",titulo:"#"},{clave:"Fecha",titulo:"Fecha"}]}},mixins:[b["a"]],created:function(){this.Modo="usuarios"},watch:{"Datos.Nombre":function(){"usuarios"==n["a"].state.ModoTabla&&(""==this.UsuarioElegido?this.BuscarUsuario():this.UsuarioElegido=""),"registros"==n["a"].state.ModoTabla?""==this.RegistroElegido&&this.BuscarRegistro():this.RegistroElegido=""},Orden:function(){n["a"].state.OrdenRegistro=this.Orden},Modo:function(){"usuarios"==this.Modo&&(n["a"].state.ModoTabla="usuarios"),"registros"==this.Modo&&(n["a"].state.ModoTabla="registros")}},methods:{"AñadirRegistro":function(){n["a"].state.RegistroNuevo=!0,n["a"].state.Registro_Actividad=!0},"AñadirUsuario":function(){n["a"].state.ModoTabla="",n["a"].state.UsuarioNuevo=!0,n["a"].state.UsuarioPerfil="nuevo_usuario"}}},N=A,U=Object(f["a"])(N,E,P,!1,null,null,null),M=U.exports,x=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"box"},[o("div",[o("div",{staticClass:"has-text-right"},[o("button",{staticClass:"delete is-large",attrs:{v:""},on:{click:t.Cerrar}},[t._v("Cerrar")])]),o("div",{staticClass:"columns"},[t._m(0),o("div",{staticClass:"column"},[o("div",{staticClass:"columm"},[o("div",{staticClass:"field"},[o("p",{staticClass:"title"},[t._v(t._s(t.modo))]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos._id,expression:"Datos._id"}],staticClass:"input",staticStyle:{border:"none"},attrs:{type:"text"},domProps:{value:t.Datos._id},on:{input:function(a){a.target.composing||t.$set(t.Datos,"_id",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Nombre:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Telefono:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Telefono,expression:"Datos.Telefono"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Telefono},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Telefono",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Direccion:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Direccion,expression:"Datos.Direccion"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Direccion},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Direccion",a.target.value)}}}),o("label",{staticClass:"label"},[t._v("Oficio:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Oficio,expression:"Datos.Oficio"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.Datos.Oficio},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Oficio",a.target.value)}}})]),o("div",{staticClass:"control"},[o("button",{staticClass:"button is-info",on:{click:function(a){return t.EnvioDatos()}}},[t._v("Guardar")])])])])])])]),o("div",{staticClass:"tabs is-centered"},[o("ul",[o("li",{class:{"is-active":1==t.tabActive},on:{click:function(a){return t.tabSeleccionada(1)}}},[o("a",[t._v("Ingresos")])]),o("li",{class:{"is-active":2==t.tabActive},on:{click:function(a){return t.tabSeleccionada(2)}}},[o("a",[t._v("Egresos")])]),o("li",{class:{"is-active":3==t.tabActive},on:{click:function(a){return t.tabSeleccionada(3)}}},[o("a",[t._v("Deuda")])])])]),o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabActive,expression:"tabActive == 1"}]},[o("Tabla",{attrs:{datos:t.tabIngresos,modo:"Tabs",configuracion:t.configuracion_ingresos_egresos}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabActive,expression:"tabActive == 2"}]},[o("Tabla",{attrs:{datos:t.tabEgresos,modo:"Tabs",configuracion:t.configuracion_ingresos_egresos}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:3==t.tabActive,expression:"tabActive == 3"}]},[o("Tabla",{attrs:{datos:t.tabDeuda,modo:"Tabs",configuracion:t.configuracion_deuda}})],1)])},T=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"column"},[s("div",{staticClass:"card"},[s("img",{attrs:{src:o("4dcc"),alt:""}})])])}],$=(o("4de4"),{name:"Usuario_Perfil",components:{Tabla:C},props:["usuario","modo"],data:function(){return{configuracion_ingresos_egresos:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Cantidad",titulo:"#"},{clave:"Fecha",titulo:"Fecha"}],configuracion_deuda:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Abono",titulo:"Abono"},{clave:"Cantidad",titulo:"#"},{clave:"Fecha",titulo:"Fecha"}],DatosReactivos:[],tabActive:1,tabData:[],tabIngresos:[],tabEgresos:[],tabDeuda:[]}},computed:{Datos:function(){return this.DatosReactivos},TabsDatos:function(){var t=this;this.axios.post("userDeuda",{Nombre:this.usuario.Nombre}).then((function(a){return t.tabData=a.data,t.tabData}))}},created:function(){this.modo,"Editar Usuario"==this.modo&&(this.DatosReactivos=this.usuario,this.universalTabs())},methods:{Cerrar:function(){n["a"].state.UsuarioPerfil=null,n["a"].state.ModoTabla="usuarios"},tabSeleccionada:function(t){switch(this.tabActive=t,t){}},universalTabs:function(){var t=0,a=this.usuario.Actividad.filter((function(t){return"Ingresos"==t.Categoria}));this.tabIngresos=a;var o=this.usuario.Actividad.filter((function(t){return"Egresos"==t.Categoria}));this.tabEgresos=o;for(var s=this.usuario.Actividad.filter((function(t){return"Deuda"==t.Categoria})),e=0;e<s.length;e++){for(var i=0;i<s[e].Abono.length;i++)t+=s[e].Abono[i];s[e].Abono=[],s[e].Abono=t,t=0}this.tabDeuda=s},EnvioDatos:function(){var t=this;"Nuevo Usuario"==this.modo&&(void 0==this.Datos.Nombre||this.axios.post("/newUser",{Nombre:this.Datos.Nombre,Telefono:this.Datos.Telefono,Direccion:this.Datos.Direccion,Oficio:this.Datos.Oficio}).then((function(a){console.log(a.data),t.$store.commit("loadDataBaseUser"),t.Datos.Nombre="",t.Datos.Telefono="",t.Datos.Direccion="",t.Datos.Oficio="",t.Cerrar()})).catch((function(t){}))),"Editar Usuario"==this.modo&&this.axios.post("/getUpdateUser",{_id:this.Datos._id,Nombre:this.Datos.Nombre,Telefono:this.Datos.Telefono,Direccion:this.Datos.Direccion,Oficio:this.Datos.Oficio}).then((function(a){n["a"].commit("loadDataBaseUser"),t.Cerrar()}))}}}),k=$,R=Object(f["a"])(k,x,T,!1,null,null,null),y=R.exports,O=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"modal is-active"},[o("div",{staticClass:"modal-background"}),o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v(t._s(t.Modo))]),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.Cerrar}})]),o("section",{staticClass:"modal-card-body"},[o("div",{staticClass:"field"},[o("div",{staticClass:"control"},[o("label",{staticClass:"label"},[t._v("Categoria")]),o("div",{staticClass:"select"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Categoria,expression:"Datos.Categoria"}],on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.Datos,"Categoria",a.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Ingresos"}},[t._v("Ingresos")]),o("option",{attrs:{value:"Egresos"}},[t._v("Egresos")]),o("option",{attrs:{value:"Deuda"}},[t._v("Deuda")]),o("option",{attrs:{value:"Abono"}},[t._v("Abono")])])])])]),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[t._v("Nombre")]),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Nombre,expression:"Datos.Nombre"}],staticClass:"input",attrs:{type:"text",placeholder:"Nombre"},domProps:{value:t.Datos.Nombre},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Nombre",a.target.value)}}}),t.MostrarListaUsuarios?o("ol",{staticClass:"my-list"},t._l(t.UsuariosParciales,(function(a){return o("li",{key:a._id,on:{click:function(o){return t.ModalUsuarioSeleccionado(a)}}},[t._v(t._s(a.Nombre))])})),0):t._e()]),1==t.UsuarioExiste?o("p",{staticStyle:{color:"green"}},[t._m(0),t._v(" Este usuario existe ")]):t._e(),0==t.UsuarioExiste?o("p",{staticStyle:{color:"red"}},[t._m(1),t._v(" Este usuario no existe presione "),o("a",[t._v("aqui")]),t._v(" para añadirlo ")]):t._e(),null==t.UsuarioExiste?o("p",{staticStyle:{color:"#3298dc"}},[t._m(2),t._v(" En espera ")]):t._e()]),0==t.ModoAbono?o("div",{staticClass:"field"},[o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[o("label",{staticClass:"label"},[t._v("Producto")]),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Productos,expression:"Datos.Productos"}],staticClass:"input",attrs:{type:"text",list:"Productos"},domProps:{value:t.Datos.Productos},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Productos",a.target.value)}}}),t._m(3)])]),o("div",{staticClass:"column is-5"},[o("label",{staticClass:"label"},[t._v("Cantidad")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Cantidad,expression:"Datos.Cantidad"}],staticClass:"input",attrs:{type:"number",min:"1",max:"100"},domProps:{value:t.Datos.Cantidad},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Cantidad",a.target.value)}}})])])]):t._e(),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[t._v("Precio")]),o("div",{staticClass:"control"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Datos.Precio,expression:"Datos.Precio"}],staticClass:"input",attrs:{id:"Precio",name:"Precio",type:"text",placeholder:"Precio"},domProps:{value:t.Datos.Precio},on:{input:function(a){a.target.composing||t.$set(t.Datos,"Precio",a.target.value)}}})])])]),o("footer",{staticClass:"modal-card-foot"},[0==t.ModoAbono?o("a",{staticClass:"card-footer-item button is-info",attrs:{disabled:0==t.BotonActivo},on:{click:function(a){return t.EnviarDatos()}}},[t._v(t._s(t.Modo))]):t._e(),t.ModoAbono?o("a",{staticClass:"card-footer-item button is-info",attrs:{disabled:0==t.BotonActivo},on:{click:function(a){return t.Abono()}}},[t._v("Abono")]):t._e(),o("a",{staticClass:"card-footer-item button",on:{click:t.Cerrar}},[t._v("Cancelar")])])]),1==t.$store.state.ModalAbono?o("Modal_Abono",{attrs:{usuario:t.UsuarioDeuda,abono:t.Datos.Precio}}):t._e()],1)])},w=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-success"},[o("i",{staticClass:"fas fa-check-square"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-danger"},[o("i",{staticClass:"fas fa-ban"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"icon has-text-info"},[o("i",{staticClass:"fas fa-user-clock"})])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("datalist",{attrs:{id:"Productos"}},[o("option",{attrs:{value:"Pollo"}},[t._v("Pollo")]),o("option",{attrs:{value:"Gallinita"}},[t._v("Gallinita")]),o("option",{attrs:{value:"Huevo"}},[t._v("Huevo")]),o("option",{attrs:{value:"Pescado"}},[t._v("Pescado")])])}],S=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("aside",{staticClass:"menuSide"},[o("div",{staticClass:" column"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[t._v(t._s(t.usuario)+":Deudas")]),o("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){return t.closeSidebar()}}})]),t.Deuda.length>0?o("div",{staticClass:"content"},[o("table",{staticClass:"table"},[t._m(0),o("tbody",t._l(t.Deuda,(function(a){return o("tr",{key:a._id},[o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(a.Productos))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.MonedaLocal(a.Precio)))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.MonedaLocal(t.totalAbono(a.Abono))))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.MonedaLocal(a.Precio-t.totalAbono(a.Abono))))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(a.Cantidad))]),o("td",{on:{click:function(o){return t.DeudaSeleccionada(a)}}},[t._v(t._s(t.FechaLocal(a.Fecha)))])])})),0),o("tfoot",[o("tr",[o("th",[t._v("Total")]),o("th",[t._v(t._s(t.MonedaLocal(t.Total(t.Deuda))))]),o("th"),o("th"),o("th"),o("th")])])])]):t._e(),t.MostrarDeudaElegida?o("div",{staticClass:"column"},[t._m(1),o("table",{staticClass:"table"},[t._m(2),o("tbody",[o("tr",[o("td",[t._v(t._s(t.DeudaElegida.Productos))]),o("td",[t._v(t._s(t.DeudaElegida.Precio))])])]),o("tfoot",[o("th",[t._v("Abono")]),o("th",[t._v(t._s(t.abono))])])]),o("footer",{staticClass:"modal-card-foot"},[o("a",{staticClass:"card-footer-item button is-info",on:{click:function(a){return t.DeudaAceptada(t.DeudaElegida)}}},[t._v("Aceptar")]),o("a",{staticClass:"card-footer-item button is-danger",on:{click:function(a){return t.closeSidebar()}}},[t._v("Cancelar")])])]):t._e()])])},B=[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",[o("tr",[o("th",[t._v("Productos")]),o("th",[t._v("Precio")]),o("th",[t._v("Abono")]),o("th",[t._v("Restante")]),o("th",[t._v("#")]),o("th",[t._v("Fecha")])])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"subtitle"},[t._v("Deuda elegida")])])},function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("thead",[o("tr",[o("th",[t._v("Producto")]),o("th",[t._v("Precio")])])])}],L={name:"Modal_Abono",props:{usuario:String,abono:String},data:function(){return{Datos:{},Deuda:{},DeudaElegida:[],MostrarDeudaElegida:!1}},mixins:[b["a"]],created:function(){this.DeudaData()},computed:{Usuario:function(){return this.usuario}},watch:{Datos:{handler:function(){this.filtro()}},Usuario:function(){this.DeudaData()}},methods:{closeSidebar:function(){this.$store.state.ModalAbono=!1},DeudaData:function(){var t=this;this.axios.post("userDeuda",{Nombre:this.Usuario}).then((function(a){t.Datos=a.data}))},filtro:function(){var t=this,a=[],o=[],s=this.Datos[0].Actividad.filter((function(t){return"Deuda"==t.Categoria}));this.Deuda=s;for(var e=0;e<this.Deuda.length;e++)a[e]=this.totalAbono(this.Deuda[e].Abono),o[e]=this.Deuda[e]._id,a[e]>=this.Deuda[e].Precio&&this.axios.post("userDeudaPagada",{_id:o[e],Deuda:"Pagada",Categoria:"Ingresos"}).then((function(a){t.DeudaData()}))},totalAbono:function(t){for(var a=0,o=0;o<t.length;o++)a+=t[o];return a},DeudaSeleccionada:function(t){console.log(t),this.MostrarDeudaElegida=!0,this.DeudaElegida=t},DeudaAceptada:function(t){var a=this;this.axios.post("/abono",{_id:t._id,Nombre:t.Nombre,Abono:this.abono}).then((function(t){a.DeudaData()}))},Total:function(t){if(t.length>0){for(var a=0,o=0;o<t.length;o++)a+=t[o].Precio;return a}return"No datos"}}},F=L,j=Object(f["a"])(F,S,B,!1,null,null,null),I=j.exports,q={name:"Registro_Actividad",components:{Modal_Abono:I},data:function(){return{Datos:[],UsuariosParciales:[],UsuarioElegido:"",UsuarioDeuda:[],UsuarioAbono:"",MostrarListaUsuarios:!1,UsuarioExiste:null,BotonActivo:!1,PrecioReal:0,Modo:"",ModoAbono:!1}},created:function(){n["a"].state.RegistroElegido!=[]&&(this.Datos=n["a"].state.RegistroElegido,this.Modo="Editar"),1==n["a"].state.RegistroNuevo&&(this.Datos=[],this.Modo="Añadir")},watch:{UsuarioExiste:function(){this.VerficarExistencia()},"Datos.Nombre":function(){""==this.UsuarioElegido?this.BuscarUsuarioRegistro():this.UsuarioElegido=""},"Datos.Precio":function(){},"Datos.Categoria":function(){"Abono"==this.Datos.Categoria?this.ModoAbono=!0:this.ModoAbono=!1}},mixins:[b["a"]],computed:{},methods:{Cerrar:function(){n["a"].state.RegistroNuevo=!1,n["a"].state.Registro_Actividad=!1},Abono:function(){n["a"].state.ModalAbono=!0},EnviarDatos:function(){var t=this;"Añadir"==this.Modo&&(void 0==this.Datos.Categoria||void 0==this.Datos.Nombre?(this.notificacion=!0,this.closeNotificacion()):this.axios.post("/getData",{Nombre:this.Datos.Nombre,Productos:this.Datos.Productos,Precio:this.Datos.Precio,Cantidad:this.Datos.Cantidad,Categoria:this.Datos.Categoria,Telefono:"No datos"}).then((function(a){t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Datos.Nombre="",t.Datos.Productos="",t.Datos.Precio="",t.Datos.Cantidad="",t.Datos.Categoria="",t.Cerrar()})).catch((function(t){}))),"Editar"==this.Modo&&this.axios.post("/getUpdate",{_id:this.Datos._id,Nombre:this.Datos.Nombre,Productos:this.Datos.Productos,Cantidad:this.Datos.Cantidad,Precio:this.Datos.Precio,Categoria:this.Datos.Categoria}).then((function(a){"editar_usuario"==n["a"].state.UsuarioPerfil&&(n["a"].state.UsuarioPerfil=null,n["a"].state.ModoTabla="usuarios"),t.$store.commit("loadDataBase"),t.$store.commit("loadDataBaseUser"),t.Datos._id="",t.Datos.Nombre="",t.Datos.Productos="",t.Datos.Precio="",t.Datos.Cantidad="",t.Datos.Categoria="",t.Cerrar()})).catch((function(t){}))}}},G=q,H=Object(f["a"])(G,O,w,!1,null,null,null),J=H.exports,Z={components:{Panel_de_Control:M,Usuario_Perfil:y,Tabla:C,Registro_Actividad:J},data:function(){return{configuracion_usuarios:[{clave:"Nombre",titulo:"Nombre"},{clave:"Telefono",titulo:"Telefono"},{clave:"Direccion",titulo:"Direccion"},{clave:"Oficio",titulo:"Oficio"}],configuracion_registros:[{clave:"Nombre",titulo:"Nombre"},{clave:"Productos",titulo:"Productos"},{clave:"Precio",titulo:"Precio"},{clave:"Cantidad",titulo:"#"},{clave:"Categoria",titulo:"Categoria"},{clave:"Fecha",titulo:"Fecha"}]}},created:function(){n["a"].commit("loadDataBase"),n["a"].commit("loadDataBaseUser")},computed:Object(i["a"])({},Object(r["b"])(["DataBase","DataBaseUser"]))},z=Z,V=Object(f["a"])(z,s,e,!1,null,null,null);a["default"]=V.exports},"4dcc":function(t,a,o){t.exports=o.p+"img/user_img.5b9f0b22.jpg"}}]);
//# sourceMappingURL=usuarios.d8ba8520.js.map